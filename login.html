<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>로그인 | 아파트잡</title>
    <link rel="icon" href="/assets/img/favicon.png" type="image/x-icon">
    <!-- bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous"
    />
    <!-- Swiper CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css" />
    <link rel="stylesheet" href="./assets/css/head.css">
    <link rel="stylesheet" href="./assets/css/global.css" />
    <link rel="stylesheet" href="./assets/css/subPage.css">
    <script type="text/javascript" src="https://static.nid.naver.com/js/naverLogin_implicit-1.0.3.js" charset="utf-8"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.7/kakao.min.js" integrity="sha384-tJkjbtDbvoxO+diRuDtwRO9JXR7pjWnfjfRn5ePUpl7e7RJCxKCwwnfqUAdXh53p" crossorigin="anonymous"></script>
    <script>
    Kakao.init('1aeb3e9a49e983e68615734accc31d91');  // 사용하려는 앱의 JavaScript 키 입력
    </script>
</head>


<body>
     <!-- header -->
    <header id="headerWrap"></header>
    <main>
		<section id="subPage">
            <!-- login -->
            <div id="login" class="login container">
                <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home-tab-pane" type="button" role="tab" aria-controls="home-tab-pane" aria-selected="true">개인회원</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile-tab-pane" type="button" role="tab" aria-controls="profile-tab-pane" aria-selected="false">기업회원</button>
                    </li>
                </ul>
                <div class="tab-content" id="myTabContent">
                    <!-- 개인회원 로그인 -->
                    <div class="tab-pane fade show active" id="home-tab-pane" role="tabpanel" aria-labelledby="home-tab" tabindex="0">
                        <div class="input-group input-group-lg mt-4">
                            <span class="input-group-text" id="inputGroup-sizing-lg">
                                <img src="./assets/img/iconoir_user.png" alt="user id icon" srcset="">
                            </span>
                            <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-lg" placeholder="아이디">
                        </div>
                         <div class="input-group input-group-lg mt-4">
                            <span class="input-group-text" id="inputGroup-sizing-lg">
                                <img src="./assets/img/mdi_password-outline.png" alt="user id icon" srcset="">
                            </span>
                            <input type="password" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-lg" placeholder="비밀번호">
                        </div>
                        <button type="button" class="btn btn-primary mt-4">로그인</button>
                        <!-- 소셜 로그인 -->
                         <div class="row my-5 social_login">
                            <div class="col login-btn">
                                <div class="google_login">
                                    <img src="./assets/img/google_icon.png" alt="google 로그인 icon">로그인
                                </div>
                            </div>
                            <div class="col login-btn"><div id="naver_id_login"></div></div>
                            <div class="col login-btn">
                                <a id="kakao-login-btn" href="javascript:loginWithKakao()">
                                <img src="./assets/img/kakao_login_medium.png" alt="카카오 로그인 버튼" />
                                </a>
                                <p id="token-result"></p>
                            </div>
                         </div>
                    </div>
                    <!-- 기업회원 로그인 -->
                    <div class="tab-pane fade" id="profile-tab-pane" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">
                        <div class="tab-pane fade show active" id="home-tab-pane" role="tabpanel" aria-labelledby="home-tab" tabindex="0">
                        <div class="input-group input-group-lg mt-4">
                            <span class="input-group-text" id="inputGroup-sizing-lg">
                                <img src="./assets/img/iconoir_user.png" alt="user id icon" srcset="">
                            </span>
                            <input type="text" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-lg" placeholder="아이디">
                        </div>
                         <div class="input-group input-group-lg mt-4">
                            <span class="input-group-text" id="inputGroup-sizing-lg">
                                <img src="./assets/img/mdi_password-outline.png" alt="user id icon" srcset="">
                            </span>
                            <input type="password" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-lg" placeholder="비밀번호">
                        </div>
                        <button type="button" class="btn btn-primary mt-4">로그인</button>

                        <div class="mt-4 enterprise-find-your-pw">
                            <a href="http://" target="_blank">관리본사/담당자 변경으로 인한 비밀번호 재설정</a>
                        </div>
                    </div>
                    </div>
                </div>
            </div>

        </section>
    </main>
     <!-- footer -->
    <footer id="footer" class="site-footer"></footer>

    <!-- 라이브러리 먼저 -->
    <script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <!-- 커스텀 JS (의존성 순서) -->
    <script src="./assets/js/login.js"></script>
    
    <script>
    (function () {
    const isSub = location.pathname.includes("/subPage/");
    const pathPrefix = isSub ? "../" : "./";

    // ✅ header
    const headerEl = document.querySelector("#headerWrap");
    if (headerEl) {
        fetch(pathPrefix + "assets/components/header.html", { cache: "no-store" })
        .then(res => res.text())
        .then(html => {
            headerEl.innerHTML = html;
            fixRelativePaths(headerEl);
        })
        .catch(err => console.error("Header load error:", err));
    }

    // ✅ footer
    const footerEl = document.querySelector("#footer");
    if (footerEl) {
        fetch(pathPrefix + "assets/components/footer.html", { cache: "no-store" })
        .then(res => res.text())
        .then(html => {
            footerEl.innerHTML = html;
            fixRelativePaths(footerEl);
        })
        .catch(err => console.error("Footer load error:", err));
    }

    // ✅ 경로 자동 보정 함수
    function fixRelativePaths(container) {
        container.querySelectorAll("img, a, link").forEach(el => {
        ["src", "href"].forEach(attr => {
            if (el.hasAttribute(attr)) {
            const val = el.getAttribute(attr);
            if (val && !val.startsWith("http") && !val.startsWith("#")) {
                if (val.startsWith("assets/")) {
                el.setAttribute(attr, pathPrefix + val);
                } else if (val.startsWith("/assets/")) {
                el.setAttribute(attr, pathPrefix + val.replace(/^\//, ""));
                }
            }
            }
        });
        });
    }
    })();
    </script>
</body>
</html>